<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/pain - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/pain.html#var">Var Details</a> - <a href="datum/pain.html#proc">Proc Details</a></header><main><h1>Pain controller <aside>/<a href="datum.html">datum</a>/<a href="datum/pain.html">pain</a></aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L7"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 7"></a></h1><p>Attatched to a mob, this datum tracks all the pain values on all their bodyparts and handles updating them.
This datum processes on alive humans every 2 seconds.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/pain.html#var/base_pain_decay">base_pain_decay</a></th><td>The base amount of pain decay received.</td></tr><tr><th><a href="datum/pain.html#var/body_zones">body_zones</a></th><td>Lazy Assoc list [zones] to [references to bodyparts], all the body parts we're tracking</td></tr><tr><th><a href="datum/pain.html#var/heart_attack_counter">heart_attack_counter</a></th><td>Tracks how many successful heart attack rolls in a row</td></tr><tr><th><a href="datum/pain.html#var/natural_pain_decay">natural_pain_decay</a></th><td>Natural amount of decay given to each limb per 5 ticks of process, increases over time</td></tr><tr><th><a href="datum/pain.html#var/pain_modifier">pain_modifier</a></th><td>Modifier that determines how much of the &quot;pain&quot; the mob actually feels.]</td></tr><tr><th><a href="datum/pain.html#var/pain_mods">pain_mods</a></th><td>Lazy Assoc list [id] to [modifier], all our pain modifiers affecting our final mod</td></tr><tr><th><a href="datum/pain.html#var/parent">parent</a></th><td>The parent mob we're tracking.</td></tr><tr><th><a href="datum/pain.html#var/time_since_last_heart_attack_counter">time_since_last_heart_attack_counter</a></th><td>Cooldown to track last time heart attack counter went up.</td></tr><tr><th><a href="datum/pain.html#var/time_since_last_pain_loss">time_since_last_pain_loss</a></th><td>Cooldown to track the last time we lost pain.</td></tr><tr><th><a href="datum/pain.html#var/time_since_last_pain_message">time_since_last_pain_message</a></th><td>Cooldown to track last time we sent a pain message.</td></tr><tr><th><a href="datum/pain.html#var/traumatic_shock">traumatic_shock</a></th><td>Amount of traumatic shock building up from higher levels of pain</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/pain.html#proc/add_bodypart">add_bodypart</a></th><td>Add a bodypart to be tracked.
Also causes pain if the limb was added non-'special'.</td></tr><tr><th><a href="datum/pain.html#proc/add_damage_pain">add_damage_pain</a></th><td>Hooks into [apply_damage] to apply pain to the parent based on incoming damage.</td></tr><tr><th><a href="datum/pain.html#proc/add_wound_pain">add_wound_pain</a></th><td>Gaining a wound applies a flat amount of pain based on severity.</td></tr><tr><th><a href="datum/pain.html#proc/adjust_bodypart_min_pain">adjust_bodypart_min_pain</a></th><td>Set the minimum amount of pain in all [def_zones] by [amount].</td></tr><tr><th><a href="datum/pain.html#proc/adjust_bodypart_pain">adjust_bodypart_pain</a></th><td>Adjust the amount of pain in all [def_zones] provided by [amount] (multiplied by the [pain_modifier] if positive).</td></tr><tr><th><a href="datum/pain.html#proc/adjust_traumatic_shock">adjust_traumatic_shock</a></th><td>Adjusts the progress of pain shock on the current mob.</td></tr><tr><th><a href="datum/pain.html#proc/do_pain_emote">do_pain_emote</a></th><td>Run a pain related emote, if a few checks are successful.</td></tr><tr><th><a href="datum/pain.html#proc/do_pain_message">do_pain_message</a></th><td>Run a pain related message, if a few checks are successful.</td></tr><tr><th><a href="datum/pain.html#proc/get_total_pain">get_total_pain</a></th><td>Get the total pain of all bodyparts.</td></tr><tr><th><a href="datum/pain.html#proc/handle_message">handle_message</a></th><td>Adds a custom stammer to people under the effects of pain.</td></tr><tr><th><a href="datum/pain.html#proc/limb_delete">limb_delete</a></th><td>Clear reference when a limb is deleted.</td></tr><tr><th><a href="datum/pain.html#proc/on_analyzed">on_analyzed</a></th><td>Signal proc for <a href="code/__DEFINES/dcs/signals/signals_mob/signals_mob_living.html#define/COMSIG_LIVING_HEALTHSCAN" title="COMSIG_LIVING_HEALTHSCAN">COMSIG_LIVING_HEALTHSCAN</a>
Reports how much pain [parent] is sustaining to [user].</td></tr><tr><th><a href="datum/pain.html#proc/on_mob_fired_gun">on_mob_fired_gun</a></th><td>Affect accuracy of fired guns while in pain.</td></tr><tr><th><a href="datum/pain.html#proc/on_pain_gain">on_pain_gain</a></th><td>Called when pain is gained to apply side effects.
Calls [affected_part]'s [on_gain_pain_effects] proc with arguments [amount].</td></tr><tr><th><a href="datum/pain.html#proc/on_pain_loss">on_pain_loss</a></th><td>Called when pain is lost, if the mob did not lose pain in the last 60 seconds.
Calls [affected_part]'s [on_lose_pain_effects] proc with arguments [amount].</td></tr><tr><th><a href="datum/pain.html#proc/on_parent_statchance">on_parent_statchance</a></th><td>Determines if we should be processing or not.</td></tr><tr><th><a href="datum/pain.html#proc/refresh_pain_attributes">refresh_pain_attributes</a></th><td>Apply or remove pain various modifiers from pain (mood, action speed, movement speed) based on the [average_pain].</td></tr><tr><th><a href="datum/pain.html#proc/remove_all_pain">remove_all_pain</a></th><td>Remove all pain, pain paralysis, side effects, etc. from our mob after we're fully healed by something (like an adminheal)</td></tr><tr><th><a href="datum/pain.html#proc/remove_bodypart">remove_bodypart</a></th><td>Removes a limb from being tracked.
Also causes pain if the limb was removed non-'special'.</td></tr><tr><th><a href="datum/pain.html#proc/remove_wound_pain">remove_wound_pain</a></th><td>Removes pain when a wound is healed.</td></tr><tr><th><a href="datum/pain.html#proc/revived">revived</a></th><td>When we are revived, reduced shock &amp; pain</td></tr><tr><th><a href="datum/pain.html#proc/set_pain_modifier">set_pain_modifier</a></th><td>Add a pain modifier and update our overall modifier.</td></tr><tr><th><a href="datum/pain.html#proc/unregister_pain_signals">unregister_pain_signals</a></th><td>Unregister all of our signals from our parent when we're done, if we have signals to unregister.</td></tr><tr><th><a href="datum/pain.html#proc/unset_pain_modifier">unset_pain_modifier</a></th><td>Remove a pain modifier and update our overall modifier.</td></tr><tr><th><a href="datum/pain.html#proc/update_pain_modifier">update_pain_modifier</a></th><td>Update our overall pain modifier.
The pain modifier is multiplicative based on all the pain modifiers we have.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/base_pain_decay"><aside class="declaration">var </aside>base_pain_decay <aside>– /final</aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L30"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 30"></a></h3><p>The base amount of pain decay received.</p><h3 id="var/body_zones"><aside class="declaration">var </aside>body_zones <aside>– /list</aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L26"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 26"></a></h3><p>Lazy Assoc list [zones] to [references to bodyparts], all the body parts we're tracking</p><h3 id="var/heart_attack_counter"><aside class="declaration">var </aside>heart_attack_counter <aside>– /final</aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L34"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 34"></a></h3><p>Tracks how many successful heart attack rolls in a row</p><h3 id="var/natural_pain_decay"><aside class="declaration">var </aside>natural_pain_decay <aside>– /final</aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L28"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 28"></a></h3><p>Natural amount of decay given to each limb per 5 ticks of process, increases over time</p><h3 id="var/pain_modifier"><aside class="declaration">var </aside>pain_modifier <aside>– /final</aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L22"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 22"></a></h3><p>Modifier that determines how much of the &quot;pain&quot; the mob actually feels.]</p>
<p>Affects:</p>
<ul>
<li>Pain feedback messages</li>
<li>Doing pain-related emotes (screams or gasps)</li>
<li>Duration of some pain effects (dizziness, etc)</li>
<li>Rate of traumatic shock buildup</li>
</ul>
<p>Below 0.5, a mob is treated as &quot;numb&quot;, and will outright no longer
experience pain feedback messages or effects (but it'll still accumulate!)</p><h3 id="var/pain_mods"><aside class="declaration">var </aside>pain_mods <aside>– /list</aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L24"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 24"></a></h3><p>Lazy Assoc list [id] to [modifier], all our pain modifiers affecting our final mod</p><h3 id="var/parent"><aside class="declaration">var </aside>parent <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a></aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L9"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 9"></a></h3><p>The parent mob we're tracking.</p><h3 id="var/time_since_last_heart_attack_counter"><aside class="declaration">var </aside>time_since_last_heart_attack_counter <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L40"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 40"></a></h3><p>Cooldown to track last time heart attack counter went up.</p><h3 id="var/time_since_last_pain_loss"><aside class="declaration">var </aside>time_since_last_pain_loss <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L36"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 36"></a></h3><p>Cooldown to track the last time we lost pain.</p><h3 id="var/time_since_last_pain_message"><aside class="declaration">var </aside>time_since_last_pain_message <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L38"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 38"></a></h3><p>Cooldown to track last time we sent a pain message.</p><h3 id="var/traumatic_shock"><aside class="declaration">var </aside>traumatic_shock <aside>– /final</aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L32"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 32"></a></h3><p>Amount of traumatic shock building up from higher levels of pain</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_bodypart"><aside class="declaration">proc </aside>add_bodypart<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/new_limb, special)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L108"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 108"></a></aside></h3><p>Add a bodypart to be tracked.
Also causes pain if the limb was added non-'special'.</p><h3 id="proc/add_damage_pain"><aside class="declaration">proc </aside>add_damage_pain<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, damage, damagetype, def_zone, blocked, wound_bonus, bare_wound_bonus, sharpness, attack_direction, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/attacking_item)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L369"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 369"></a></aside></h3><p>Hooks into [apply_damage] to apply pain to the parent based on incoming damage.</p><h3 id="proc/add_wound_pain"><aside class="declaration">proc </aside>add_wound_pain<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a>/applied_wound, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/wounded_limb)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L443"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 443"></a></aside></h3><p>Gaining a wound applies a flat amount of pain based on severity.</p><h3 id="proc/adjust_bodypart_min_pain"><aside class="declaration">proc </aside>adjust_bodypart_min_pain<aside>(/list/def_zones, amount)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L316"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 316"></a></aside></h3><p>Set the minimum amount of pain in all [def_zones] by [amount].</p>
<ul>
<li>def_zones - list of all zones being adjusted. Can be passed a non-list.</li>
<li>amount - amount of pain being all items in [def_zones] are set to.</li>
</ul><h3 id="proc/adjust_bodypart_pain"><aside class="declaration">proc </aside>adjust_bodypart_pain<aside>(def_zone, amount, dam_type)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L221"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 221"></a></aside></h3><p>Adjust the amount of pain in all [def_zones] provided by [amount] (multiplied by the [pain_modifier] if positive).</p>
<p>This is the bread and butter way to apply pain to a mob.</p>
<ul>
<li>def_zones - zone being adjusted</li>
<li>amount - amount of pain being applied to all items in [def_zones]. If posiitve, multiplied by [pain_modifier].</li>
</ul>
<p>Returns the amount of pain caused, or 0 if no pain was caused.</p><h3 id="proc/adjust_traumatic_shock"><aside class="declaration">proc </aside>adjust_traumatic_shock<aside>(amount, down_to)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L277"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 277"></a></aside></h3><p>Adjusts the progress of pain shock on the current mob.</p>
<ul>
<li>amount - the number of ticks of progress to remove. Note that one tick = two seconds for pain.</li>
<li>down_to - shock will be healed down to this amount, but not beyond it.</li>
</ul><h3 id="proc/do_pain_emote"><aside class="declaration">proc </aside>do_pain_emote<aside>(emote, cooldown)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L688"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 688"></a></aside></h3><p>Run a pain related emote, if a few checks are successful.</p>
<p>Comes with defaults so you can just call it straight up to do a random emote</p>
<ul>
<li>emote - string, what emote we're running</li>
<li>cooldown - what cooldown to set our emote cooldown to</li>
</ul>
<p>Returns TRUE if successful.
Returns FALSE if we failed to send an emote.</p><h3 id="proc/do_pain_message"><aside class="declaration">proc </aside>do_pain_message<aside>(message, painless_message, cooldown)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L711"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 711"></a></aside></h3><p>Run a pain related message, if a few checks are successful.</p>
<ul>
<li>message - string, what message we're sending</li>
<li>painless_message - optional string, what message we're sending if the mob doesn't &quot;feel&quot; pain</li>
<li>cooldown - what cooldown to set our message cooldown to</li>
</ul>
<p>Returns TRUE if successful.
Returns FALSE if we failed to send a message, even if painless_message was provided and sent.</p><h3 id="proc/get_total_pain"><aside class="declaration">proc </aside>get_total_pain<aside>()  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L727"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 727"></a></aside></h3><p>Get the total pain of all bodyparts.</p><h3 id="proc/handle_message"><aside class="declaration">proc </aside>handle_message<aside>(/<a href="datum.html">datum</a>/source, /list/message_args)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L736"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 736"></a></aside></h3><p>Adds a custom stammer to people under the effects of pain.</p><h3 id="proc/limb_delete"><aside class="declaration">proc </aside>limb_delete<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/source)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L155"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 155"></a></aside></h3><p>Clear reference when a limb is deleted.</p><h3 id="proc/on_analyzed"><aside class="declaration">proc </aside>on_analyzed<aside>(/<a href="datum.html">datum</a>/source, /list/render_list, advanced, /<a href="mob.html">mob</a>/user, mode, tochat)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L816"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 816"></a></aside></h3><p>Signal proc for <a href="code/__DEFINES/dcs/signals/signals_mob/signals_mob_living.html#define/COMSIG_LIVING_HEALTHSCAN" title="COMSIG_LIVING_HEALTHSCAN">COMSIG_LIVING_HEALTHSCAN</a>
Reports how much pain [parent] is sustaining to [user].</p>
<p>Note, this report is relatively vague intentionally -
rather than sending a detailed report of which bodyparts are in pain and how much,
the patient is encouraged to elaborate on which bodyparts hurt the most, and how much they hurt.</p>
<p>(To encourage a bit more interaction between the doctors and their patients)</p><h3 id="proc/on_mob_fired_gun"><aside class="declaration">proc </aside>on_mob_fired_gun<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/gun.html">gun</a>/gun_fired, target, params, zone_override, /list/bonus_spread_values)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L612"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 612"></a></aside></h3><p>Affect accuracy of fired guns while in pain.</p><h3 id="proc/on_pain_gain"><aside class="declaration">proc </aside>on_pain_gain<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/affected_part, amount, dam_type)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L340"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 340"></a></aside></h3><p>Called when pain is gained to apply side effects.
Calls [affected_part]'s [on_gain_pain_effects] proc with arguments [amount].</p>
<ul>
<li>affected_part - the bodypart that gained the pain</li>
<li>amount - amount of pain that was gained, post-[pain_modifier] applied</li>
</ul><h3 id="proc/on_pain_loss"><aside class="declaration">proc </aside>on_pain_loss<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/affected_part, amount, type)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L363"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 363"></a></aside></h3><p>Called when pain is lost, if the mob did not lose pain in the last 60 seconds.
Calls [affected_part]'s [on_lose_pain_effects] proc with arguments [amount].</p>
<ul>
<li>affected_part - the bodypart that lost pain</li>
<li>amount - amount of pain that was lost</li>
</ul><h3 id="proc/on_parent_statchance"><aside class="declaration">proc </aside>on_parent_statchance<aside>(...)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L788"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 788"></a></aside></h3><p>Determines if we should be processing or not.</p><h3 id="proc/refresh_pain_attributes"><aside class="declaration">proc </aside>refresh_pain_attributes<aside>(...)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L631"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 631"></a></aside></h3><p>Apply or remove pain various modifiers from pain (mood, action speed, movement speed) based on the [average_pain].</p><h3 id="proc/remove_all_pain"><aside class="declaration">proc </aside>remove_all_pain<aside>(/<a href="datum.html">datum</a>/source, heal_flags)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L768"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 768"></a></aside></h3><p>Remove all pain, pain paralysis, side effects, etc. from our mob after we're fully healed by something (like an adminheal)</p><h3 id="proc/remove_bodypart"><aside class="declaration">proc </aside>remove_bodypart<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/lost_limb, special, dismembered)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L130"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 130"></a></aside></h3><p>Removes a limb from being tracked.
Also causes pain if the limb was removed non-'special'.</p><h3 id="proc/remove_wound_pain"><aside class="declaration">proc </aside>remove_wound_pain<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/source, /<a href="datum.html">datum</a>/<a href="datum/wound.html">wound</a>/removed_wound, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/bodypart.html">bodypart</a>/wounded_limb)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L451"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 451"></a></aside></h3><p>Removes pain when a wound is healed.</p><h3 id="proc/revived"><aside class="declaration">proc </aside>revived<aside>(...)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L798"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 798"></a></aside></h3><p>When we are revived, reduced shock &amp; pain</p><h3 id="proc/set_pain_modifier"><aside class="declaration">proc </aside>set_pain_modifier<aside>(key, amount)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L168"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 168"></a></aside></h3><p>Add a pain modifier and update our overall modifier.</p>
<ul>
<li>key - key of the added modifier</li>
<li>amount - multiplier of the modifier</li>
</ul>
<p>Returns TRUE if our pain mod actually changed</p><h3 id="proc/unregister_pain_signals"><aside class="declaration">proc </aside>unregister_pain_signals<aside>()  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L91"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 91"></a></aside></h3><p>Unregister all of our signals from our parent when we're done, if we have signals to unregister.</p><h3 id="proc/unset_pain_modifier"><aside class="declaration">proc </aside>unset_pain_modifier<aside>(key)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L188"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 188"></a></aside></h3><p>Remove a pain modifier and update our overall modifier.</p>
<ul>
<li>key - key of the removed modifier</li>
</ul>
<p>Returns TRUE if our pain mod actually changed</p><h3 id="proc/update_pain_modifier"><aside class="declaration">proc </aside>update_pain_modifier<aside>()  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/datums/pain/pain.dm#L201"><img src="git.png" width="16" height="16" title="maplestation_modules/code/datums/pain/pain.dm 201"></a></aside></h3><p>Update our overall pain modifier.
The pain modifier is multiplicative based on all the pain modifiers we have.</p>
<p>Returns TRUE if our pain modifier was changed after update, FALSE if it remained the same</p></main><footer>maplestation.dme <a href="https://github.com/MrMelbert/MapleStationCode/tree/50af832c1789aef96688a9256797ba61e46caac1">50af832</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>