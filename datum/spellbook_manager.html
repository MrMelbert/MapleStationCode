<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/spellbook_manager - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/spellbook_manager.html#var">Var Details</a> - <a href="datum/spellbook_manager.html#proc">Proc Details</a></header><main><h1>spellbook_manager <aside>/<a href="datum.html">datum</a>/<a href="datum/spellbook_manager.html">spellbook_manager</a></aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L7"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 7"></a></h1><p>The &quot;spellbook&quot; - a character creation window that allows people to select spells for their characters.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/spellbook_manager.html#var/currently_selected">currently_selected</a></th><td>The current selected entries.</td></tr><tr><th><a href="datum/spellbook_manager.html#var/customization_menu">customization_menu</a></th><td>Our currently open customization customization_menu.</td></tr><tr><th><a href="datum/spellbook_manager.html#var/disclaimer_open">disclaimer_open</a></th><td>Is the disclaimer text open?</td></tr><tr><th><a href="datum/spellbook_manager.html#var/explanation_open">explanation_open</a></th><td>Is the magic system explanation open?</td></tr><tr><th><a href="datum/spellbook_manager.html#var/owner">owner</a></th><td>The client of the person using the UI</td></tr><tr><th><a href="datum/spellbook_manager.html#var/preference">preference</a></th><td>Spellbook preference singleton for easy access</td></tr><tr><th><a href="datum/spellbook_manager.html#var/save_on_close">save_on_close</a></th><td>Whether, on close, we save the list</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/spellbook_manager.html#proc/customize_item">customize_item</a></th><td>Open a new customization menu and pass our args to it.</td></tr><tr><th><a href="datum/spellbook_manager.html#proc/deselect_item">deselect_item</a></th><td>Deselect [deselected_item].</td></tr><tr><th><a href="datum/spellbook_manager.html#proc/get_disclaimer_text">get_disclaimer_text</a></th><td>Returns a formatted string for use in the UI.</td></tr><tr><th><a href="datum/spellbook_manager.html#proc/get_explanation_text">get_explanation_text</a></th><td>Returns a formatted string for use in the UI.</td></tr><tr><th><a href="datum/spellbook_manager.html#proc/list_to_data">list_to_data</a></th><td>Takes an assoc list of [typepath]s to [singleton datum]
And formats it into an object for TGUI.</td></tr><tr><th><a href="datum/spellbook_manager.html#proc/select_item">select_item</a></th><td>Set selected item -&gt; params.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/currently_selected"><aside class="declaration">var </aside>currently_selected <aside>– /list</aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L14"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 14"></a></h3><p>The current selected entries.</p><h3 id="var/customization_menu"><aside class="declaration">var </aside>customization_menu <aside>– /<a href="datum.html">datum</a>/<a href="datum/spellbook_item_customization_menu.html">spellbook_item_customization_menu</a></aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L22"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 22"></a></h3><p>Our currently open customization customization_menu.</p><h3 id="var/disclaimer_open"><aside class="declaration">var </aside>disclaimer_open <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L16"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 16"></a></h3><p>Is the disclaimer text open?</p><h3 id="var/explanation_open"><aside class="declaration">var </aside>explanation_open <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L18"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 18"></a></h3><p>Is the magic system explanation open?</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /<a href="client.html">client</a></aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L10"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 10"></a></h3><p>The client of the person using the UI</p><h3 id="var/preference"><aside class="declaration">var </aside>preference <aside>– /<a href="datum.html">datum</a>/<a href="datum/preference.html">preference</a>/spellbook</aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L12"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 12"></a></h3><p>Spellbook preference singleton for easy access</p><h3 id="var/save_on_close"><aside class="declaration">var </aside>save_on_close <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L20"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 20"></a></h3><p>Whether, on close, we save the list</p><h2 id="proc">Proc Details</h2><h3 id="proc/customize_item"><aside class="declaration">proc </aside>customize_item<aside>(/<a href="datum.html">datum</a>/<a href="datum/spellbook_item.html">spellbook_item</a>/item, /<a href="datum.html">datum</a>/<a href="datum/spellbook_item_customization_menu.html">spellbook_item_customization_menu</a>/typepath, /list/menu_params)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L101"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 101"></a></aside></h3><p>Open a new customization menu and pass our args to it.</p><h3 id="proc/deselect_item"><aside class="declaration">proc </aside>deselect_item<aside>(/<a href="datum.html">datum</a>/<a href="datum/spellbook_item.html">spellbook_item</a>/deselected_item)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L225"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 225"></a></aside></h3><p>Deselect [deselected_item].</p><h3 id="proc/get_disclaimer_text"><aside class="declaration">proc </aside>get_disclaimer_text<aside>()  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L184"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 184"></a></aside></h3><p>Returns a formatted string for use in the UI.</p><h3 id="proc/get_explanation_text"><aside class="declaration">proc </aside>get_explanation_text<aside>()  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L199"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 199"></a></aside></h3><p>Returns a formatted string for use in the UI.</p><h3 id="proc/list_to_data"><aside class="declaration">proc </aside>list_to_data<aside>(list_of_datums)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L163"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 163"></a></aside></h3><p>Takes an assoc list of [typepath]s to [singleton datum]
And formats it into an object for TGUI.</p><h3 id="proc/select_item"><aside class="declaration">proc </aside>select_item<aside>(/<a href="datum.html">datum</a>/<a href="datum/spellbook_item.html">spellbook_item</a>/selected_item, /list/params)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/50af832c1789aef96688a9256797ba61e46caac1/maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm#L216"><img src="git.png" width="16" height="16" title="maplestation_modules/code/modules/client/preferences/spellbook/spellbook_manager.dm 216"></a></aside></h3><p>Set selected item -&gt; params.</p></main><footer>maplestation.dme <a href="https://github.com/MrMelbert/MapleStationCode/tree/50af832c1789aef96688a9256797ba61e46caac1">50af832</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>