<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/aquarium_content - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/aquarium_content.html#var">Var Details</a> - <a href="datum/component/aquarium_content.html#proc">Proc Details</a></header><main><h1>aquarium_content <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/aquarium_content.html">aquarium_content</a></aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L13"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 13"></a></h1><p>Allows movables to be inserted/displayed in aquariums.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/aquarium_content.html#var/animation_update_signals">animation_update_signals</a></th><td>Signals of the parent that will trigger animation update</td></tr><tr><th><a href="datum/component/aquarium_content.html#var/beauty">beauty</a></th><td>The current beauty this component gives to the aquarium it's in</td></tr><tr><th><a href="datum/component/aquarium_content.html#var/current_animation">current_animation</a></th><td>Fish sprite how to:
The aquarium icon state needs to be centered on 16,16 in the dmi and facing left by default.
sprite_width/sprite_height are the sizes it will have in aquarium and used to control animation boundaries.
Ideally these two vars represent the size of the aquarium icon state, but they can be one or two units shorter
to give more room for the visual to float around inside the aquarium, since the aquarium tank frame overlay will likely
cover the extra pixels anyway.
Currently playing animation</td></tr><tr><th><a href="datum/component/aquarium_content.html#var/current_aquarium">current_aquarium</a></th><td>Keeps track of our current aquarium.</td></tr><tr><th><a href="datum/component/aquarium_content.html#var/original_beauty">original_beauty</a></th><td>The original value of the beauty this component had when initialized</td></tr><tr><th><a href="datum/component/aquarium_content.html#var/processing">processing</a></th><td>Does this behviour need additional processing in aquarium, will be added to SSobj processing on insertion</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/aquarium_content.html#proc/change_aquarium_beauty">change_aquarium_beauty</a></th><td>Modifies the beauty of the aquarium when content is added or removed, or when fishes die or live again somehow.</td></tr><tr><th><a href="datum/component/aquarium_content.html#proc/generate_animation">generate_animation</a></th><td>Sends a signal to the parent to get them to update the aquarium animation of the visual object</td></tr><tr><th><a href="datum/component/aquarium_content.html#proc/generate_base_vc">generate_base_vc</a></th><td>Generates common visual object, propeties that don't depend on aquarium surface</td></tr><tr><th><a href="datum/component/aquarium_content.html#proc/on_surface_changed">on_surface_changed</a></th><td>Aquarium surface changed in some way, we need to recalculate base position and aninmation</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/animation_update_signals"><aside class="declaration">var </aside>animation_update_signals <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L36"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 36"></a></h3><p>Signals of the parent that will trigger animation update</p><h3 id="var/beauty"><aside class="declaration">var </aside>beauty <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L39"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 39"></a></h3><p>The current beauty this component gives to the aquarium it's in</p><h3 id="var/current_animation"><aside class="declaration">var </aside>current_animation <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L30"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 30"></a></h3><p>Fish sprite how to:
The aquarium icon state needs to be centered on 16,16 in the dmi and facing left by default.
sprite_width/sprite_height are the sizes it will have in aquarium and used to control animation boundaries.
Ideally these two vars represent the size of the aquarium icon state, but they can be one or two units shorter
to give more room for the visual to float around inside the aquarium, since the aquarium tank frame overlay will likely
cover the extra pixels anyway.
Currently playing animation</p><h3 id="var/current_aquarium"><aside class="declaration">var </aside>current_aquarium <aside>– /<a href="obj.html">obj</a>/<a href="obj/structure/aquarium.html">structure/aquarium</a></aside> <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L15"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 15"></a></h3><p>Keeps track of our current aquarium.</p><h3 id="var/original_beauty"><aside class="declaration">var </aside>original_beauty <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L42"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 42"></a></h3><p>The original value of the beauty this component had when initialized</p><h3 id="var/processing"><aside class="declaration">var </aside>processing <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L33"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 33"></a></h3><p>Does this behviour need additional processing in aquarium, will be added to SSobj processing on insertion</p><h2 id="proc">Proc Details</h2><h3 id="proc/change_aquarium_beauty"><aside class="declaration">proc </aside>change_aquarium_beauty<aside>(change)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L124"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 124"></a></aside></h3><p>Modifies the beauty of the aquarium when content is added or removed, or when fishes die or live again somehow.</p><h3 id="proc/generate_animation"><aside class="declaration">proc </aside>generate_animation<aside>(reset)  <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L148"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 148"></a></aside></h3><p>Sends a signal to the parent to get them to update the aquarium animation of the visual object</p><h3 id="proc/generate_base_vc"><aside class="declaration">proc </aside>generate_base_vc<aside>()  <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L159"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 159"></a></aside></h3><p>Generates common visual object, propeties that don't depend on aquarium surface</p><h3 id="proc/on_surface_changed"><aside class="declaration">proc </aside>on_surface_changed<aside>()  <a href="https://github.com/MrMelbert/MapleStationCode/blob/c341637f130c528d9e478c069a855c193f76b98f/code/datums/components/aquarium_content.dm#L138"><img src="git.png" width="16" height="16" title="code/datums/components/aquarium_content.dm 138"></a></aside></h3><p>Aquarium surface changed in some way, we need to recalculate base position and aninmation</p></main><footer>maplestation.dme <a href="https://github.com/MrMelbert/MapleStationCode/tree/c341637f130c528d9e478c069a855c193f76b98f">c341637</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>